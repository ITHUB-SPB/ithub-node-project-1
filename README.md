# Сопроводительный репозиторий к курсу по основам Node.JS

## Установка и настройка

Клонируйте репозиторий через `git clone https://github.com/ITHUB-SPB/ithub-node-project-1.git`

Откройте директорию в `VS Code` (File -> Open Folder)

Установите зависимости через `npm i` в консоли.

Для запуска сервера выполните команду `npm run dev`.

Для запуска тестов используйте расширение `Vitest` для `VS Code` либо выполните команду `npm run test` в консоли.

Для проверки на ошибки линтером используйте `npm run lint`.

## Критерии оценивания (часть 1)

##### Разобрать и вернуть согласно примеру (4.5 балла + 2 балла бонуса)

1. Параметры пути на основе `urlObject.pathname` (0.5 балла)
2. Поисковые параметры на основе `urlObject.searchParams` (по 0.5 за каждый из четырех)

Бонус (1 балл): настройки пагинации выдавать в цельном объекте `paginate`

Бонус (1 балл): добавить валидацию на основе valibot-схемы (добавить в `schema.js`)

##### Разобрать ресурс (0.5 балла)

##### Разобрать тело (2 балла + 2 балла бонуса)

Проверить, успевает ли считаться тело перед тем, как мы вернем ответ. Если нет, вспомнить промисы и сделать соответствующий `then`, либо (если промисы сложны) встроить ожидание в `callback-функцию`

Бонус (2 балла): за промисификацию request.on('data') и request.on('end')

## Критерии оценивания (часть 2)

#### Основные

**GET `/bookings`**

- применяется фильтр (1 балл)
- применяется пагинация (1 балл)
- применяется сортировка (1 балл)
- ответ возвращается в локализованном виде (1 балл)

**POST `/bookings`**

- считывается и распознается тело запроса
- создается запись в корректном формате (1 балл)
- `id` и дата создания `createdAt` назначаются автоматически и присутствуют в ответе (1 балл)
- даты в ответе возвращаются в локализованном формате (1 балл)

**DELETE `/bookings/:id`**

- корректно определяется идентификатор удаляемой записи
- если идентификатор корректен, запись удаляется, возвращается корректный код (1 балл)
- если идентификатор ошибочный, возвращается код ошибки и сопровождающее сообщение (1 балл)

**Бонусы**

- загрузка данных из JSON-файла через импорт (в новых версиях ноды) или фетч (универсальный) (1 балл)
- сохранение данных в JSON-файл перед отключением сервера (погуглите понятие graceful shutdown) (1 балл)
- перед обработкой происходит проверка схем данных (1 балл)

#### Code Quality / Code Style

- код аккуратно отформатирован (встроенными средствами, приттиером или аналогом, либо вручную)
- код не содержит ошибок линтера

#### Формат сдачи (0 - 1 балл)

- 0 за архив с исходным кодом,
- 0.5 за ссылку на ваш личный репозиторий гитхаба (либо аналога),
- 1.0 за ссылку на ветку с вашей фамилией в данном репозитории

_Округление будет происходит по правилам математики (при этом половина будет округляться вверх)_
